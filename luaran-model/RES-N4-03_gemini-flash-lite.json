{
  "scenario_id": "RES-N4-03",
  "model_info": {
    "name": "gemini-2.5-flash-lite",
    "temperature": 0.0,
    "timestamp": "2025-07-23T13:53:48.545913"
  },
  "input": {
    "question_id": "Masakan asal mana yang menggunakan setidaknya satu bahan yang tidak pernah dipakai masakan asal 'Bali'? Tampilkan nama daerahnya saja.",
    "database": "resep",
    "category": "Nested / Subquery"
  },
  "prompt_info": {
    "prompt_length": 7262,
    "prompt_lines": 165
  },
  "model_response": {
    "sql_query": "SELECT DISTINCT m.asal_daerah FROM masakan m JOIN resep_bahan rb ON m.kode_masakan = (SELECT kode_masakan FROM resep WHERE id_resep = rb.id_resep) WHERE rb.id_bahan NOT IN (SELECT rb2.id_bahan FROM resep r2 JOIN resep_bahan rb2 ON r2.id_resep = rb2.id_resep JOIN masakan m2 ON r2.kode_masakan = m2.kode_masakan WHERE m2.asal_daerah = 'Bali') AND m.asal_daerah <> 'Bali';",
    "explanation": "Query ini pertama-tama mengidentifikasi semua bahan yang digunakan dalam masakan asal 'Bali'. Kemudian, ia mencari masakan lain (yang bukan dari 'Bali') yang menggunakan setidaknya satu bahan yang tidak termasuk dalam daftar bahan masakan 'Bali'. Akhirnya, ia menampilkan nama daerah asal masakan tersebut.",
    "confidence": 0.9,
    "assumptions": [
      "Setiap masakan memiliki satu asal daerah.",
      "Setiap bahan yang digunakan dalam resep terhubung ke masakan melalui tabel resep dan resep_bahan.",
      "Pertanyaan mengacu pada bahan yang *tidak pernah* dipakai masakan asal 'Bali', bukan bahan yang *jarang* dipakai."
    ],
    "potential_issues": [
      "Jika ada masakan dari 'Bali' yang tidak memiliki resep atau bahan terkait, bahan-bahan tersebut tidak akan dimasukkan dalam perbandingan.",
      "Performa query bisa menjadi masalah jika tabel `resep_bahan` sangat besar karena penggunaan subkueri `NOT IN`."
    ],
    "response_time_ms": 1427.2469000006822,
    "model_name": "gemini-2.5-flash-lite",
    "timestamp": "2025-07-23T13:53:48.545913",
    "token_usage": {
      "prompt_tokens": 2198,
      "completion_tokens": 381,
      "total_tokens": 2579
    }
  }
}